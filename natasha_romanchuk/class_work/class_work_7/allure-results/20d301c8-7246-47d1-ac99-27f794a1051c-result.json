{"name": "test_footer_links", "status": "failed", "statusDetails": {"message": "AssertionError: The page loaded more than 60 seconds!", "trace": "web_browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"bd256d1774badca43d9b961ae97c5310\")>\n\n    @allure.feature(\"Главная страница\")\n    @allure.story(\"Проверка всех ссылок футера\")\n    def test_footer_links(web_browser):\n        with allure.step(\"Запуск браузера и закрытие баннеров\"):\n            driver = MainPage(web_browser)\n            driver.cookies_button.click()\n            driver.close_button.click()\n    \n        footer_links = [\n            (driver.servise_button, \"https://emall.by/information/company/about-service\"),\n            (driver.contacty_button, \"https://emall.by/information/company/contacts\"),\n            (driver.news_button, \"https://emall.by/news\"),\n            (driver.postavsikam_button, \"https://emall.by/information/company/conditions-for-selecting-a-counterparty\"),\n            (driver.reklamodatelam_button, \"https://emall.by/information/company/advertisement\"),\n            (driver.vopros_otvet_button, \"https://emall.by/information/help\"),\n            (driver.dostavka_oplata_button, \"https://emall.by/information/help/132\"),\n            (driver.tovari_ot_emall_button, \"https://emall.by/shop/1\"),\n            (driver.punkti_vidachi_button, \"https://emall.by/map\"),\n            (driver.vacansii_button, \"https://jobs.e-dostavka.by/\"),\n            (driver.dostavca_dlya_urlic_button, \"https://business.emall.by/catalog/\"),\n            (driver.stat_prodavcom_button, \"https://seller.emall.by/\"),\n            (driver.prodaza_avto_button, \"https://emall.by/news/82\"),\n            (driver.polz_soglashenie_button, \"https://api-preprod.emall.by/649008c9c6277_publichnyj-dogovor-emall.pdf\"),\n            (driver.soglashenie_o_creditax_button, \"https://api-preprod.emall.by/storage/admin/files/UOEpXjJF8xBxksqpphDwn5HKKr6SizVhijbqxEww.pdf\"),\n            (driver.edostavca_button, \"https://edostavka.by/#modal-opened\"),\n            (driver.evropochta_button, \"https://evropochta.by/\"),\n            (driver.evroopt_button, \"https://evroopt.by/\"),\n            (driver.xit_button, \"https://hitdiscount.by/\"),\n            (driver.groshik_button, \"https://groshyk.by/\"),\n            (driver.sviazatsa_snamy_button, \"https://emall.by/?modal_id=feedback_modal&feedback_modal.props=%7B%7D\"),\n        ]\n    \n        for button, expected_url in footer_links:\n            with allure.step(f\"Проверяем кнопку → {expected_url}\"):\n                original_window = driver._web_driver.current_window_handle\n                windows_before = driver._web_driver.window_handles\n    \n                button.click()  # кликаем по кнопке\n>               driver.wait_page_loaded() # ждём загрузку страницы\n                ^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/UI/test_selenium_heder.py:228: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <natasha_romanchuk.class_work.class_work_7.Locators.main_locators.MainPage object at 0x102c89e10>\ntimeout = 60, check_js_complete = True, check_page_changes = False\ncheck_images = False, wait_for_element = None, wait_for_xpath_to_disappear = ''\nsleep_time = 2\n\n    def wait_page_loaded(self, timeout=60, check_js_complete=True,\n                         check_page_changes=False, check_images=False,\n                         wait_for_element=None,\n                         wait_for_xpath_to_disappear='',\n                         sleep_time=2):\n        \"\"\" Эта функция ждет, пока страница не будет полностью загружена.\n            Мы используем много разных способов определить, загружена страница или нет.:\n            1) Проверить статус JS\n            2) Проверить модификацию в исходном коде страницы\n            3) Убедитесь, что все изображения загружены полностью\n               (Примечание: по умолчанию эта проверка отключена)\n            4) Убедиться, что ожидаемые элементы, представленные на странице\n        \"\"\"\n    \n        page_loaded = False\n        double_check = False\n        k = 0\n    \n        if sleep_time:\n            time.sleep(sleep_time)\n    \n        # Получить исходный код страницы для отслеживания изменений в HTML:\n        source = ''\n        try:\n            source = self._web_driver.page_source\n        except:\n            pass\n    \n        # Подождать, пока страница загрузится (и прокрутить ее, чтобы убедиться, что все объекты будут загружены):\n        while not page_loaded:\n            time.sleep(0.5)\n            k += 1\n    \n            if check_js_complete:\n                # Прокрутить вниз и подождите, пока страница загрузится:\n                try:\n                    self._web_driver.execute_script('window.scrollTo(0, document.body.scrollHeight);')\n                    page_loaded = self._web_driver.execute_script(\"return document.readyState == 'complete';\")\n                except Exception as e:\n                    pass\n    \n            if page_loaded and check_page_changes:\n                # Проверьть не изменился ли источник страницы\n                new_source = ''\n                try:\n                    new_source = self._web_driver.page_source\n                except:\n                    pass\n    \n                page_loaded = new_source == source\n                source = new_source\n    \n            # Подождить когда какой-то элемент исчезнет:\n            if page_loaded and wait_for_xpath_to_disappear:\n                bad_element = None\n    \n                try:\n                    bad_element = WebDriverWait(self._web_driver, 0.1).until(\n                        EC.presence_of_element_located((By.XPATH, wait_for_xpath_to_disappear))\n                    )\n                except:\n                    pass  # Игнорировать ошибки тайм-аута\n    \n                page_loaded = not bad_element\n    \n            if page_loaded and wait_for_element:\n                try:\n                    page_loaded = WebDriverWait(self._web_driver, 0.1).until(\n                        EC.element_to_be_clickable(wait_for_element._locator)\n                    )\n                except:\n                    pass  # Игнорировать ошибки тайм-аута\n    \n>           assert k < timeout, 'The page loaded more than {0} seconds!'.format(timeout)\n                   ^^^^^^^^^^^\nE           AssertionError: The page loaded more than 60 seconds!\n\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/nuts_nuts_nuts/page1/base_page.py:204: AssertionError"}, "steps": [{"name": "Запуск браузера и закрытие баннеров", "status": "passed", "start": 1759765035698, "stop": 1759765041408}, {"name": "Проверяем кнопку → https://emall.by/information/company/about-service", "status": "passed", "start": 1759765041408, "stop": 1759765048114}, {"name": "Проверяем кнопку → https://emall.by/information/company/contacts", "status": "passed", "start": 1759765048114, "stop": 1759765054815}, {"name": "Проверяем кнопку → https://emall.by/news", "status": "passed", "start": 1759765054816, "stop": 1759765061549}, {"name": "Проверяем кнопку → https://emall.by/information/company/conditions-for-selecting-a-counterparty", "status": "passed", "start": 1759765061549, "stop": 1759765068295}, {"name": "Проверяем кнопку → https://emall.by/information/company/advertisement", "status": "passed", "start": 1759765068295, "stop": 1759765075004}, {"name": "Проверяем кнопку → https://emall.by/information/help", "status": "passed", "start": 1759765075004, "stop": 1759765081748}, {"name": "Проверяем кнопку → https://emall.by/information/help/132", "status": "passed", "start": 1759765081748, "stop": 1759765088486}, {"name": "Проверяем кнопку → https://emall.by/shop/1", "status": "passed", "start": 1759765088486, "stop": 1759765095226}, {"name": "Проверяем кнопку → https://emall.by/map", "status": "passed", "start": 1759765095226, "stop": 1759765101946}, {"name": "Проверяем кнопку → https://jobs.e-dostavka.by/", "status": "passed", "start": 1759765101947, "stop": 1759765105688}, {"name": "Проверяем кнопку → https://business.emall.by/catalog/", "status": "passed", "start": 1759765105688, "stop": 1759765109404}, {"name": "Проверяем кнопку → https://seller.emall.by/", "status": "passed", "start": 1759765109404, "stop": 1759765113155}, {"name": "Проверяем кнопку → https://emall.by/news/82", "status": "failed", "statusDetails": {"message": "AssertionError: The page loaded more than 60 seconds!\n", "trace": "  File \"/Users/natasharomancuk/PycharmProjects/QA1825/natasha_romanchuk/class_work/class_work_7/tests/UI/test_selenium_heder.py\", line 228, in test_footer_links\n    driver.wait_page_loaded() # ждём загрузку страницы\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/nuts_nuts_nuts/page1/base_page.py\", line 204, in wait_page_loaded\n    assert k < timeout, 'The page loaded more than {0} seconds!'.format(timeout)\n           ^^^^^^^^^^^\n"}, "start": 1759765113155, "stop": 1759765146199}], "start": 1759765035698, "stop": 1759765146203, "uuid": "6a369dc1-a111-4cbb-9451-7273043b523b", "historyId": "45f5cc132b2c7b0b4a1e9d942798f5e9", "testCaseId": "45f5cc132b2c7b0b4a1e9d942798f5e9", "fullName": "tests.UI.test_selenium_heder#test_footer_links", "labels": [{"name": "feature", "value": "Главная страница"}, {"name": "story", "value": "Проверка всех ссылок футера"}, {"name": "parentSuite", "value": "tests.UI"}, {"name": "suite", "value": "test_selenium_heder"}, {"name": "host", "value": "MacBook-Air-Natasa.local"}, {"name": "thread", "value": "21316-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.UI.test_selenium_heder"}], "titlePath": ["tests", "UI", "test_selenium_heder.py"]}